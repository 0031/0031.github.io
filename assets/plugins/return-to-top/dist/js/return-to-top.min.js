!function(){"use strict";function e(e){var n=document.getElementById(e.id),t=window,o="",i=!1;if(n=document.getElementById(e.id)||n,!n)return void console.warn("元素id有误,请检查配置!");T(["px","em","%"],e.pos.unit)||(e.pos.unit="px"),"window"!=e.scroll&&(t=document.getElementById(e.scroll)||t),o=n.className;var a={elem:n,scrollElem:t,initClassName:o,timeout:i,options:e};h(e.namespace,a)}function n(e,t,o,i){if(w(e)){var a=v(e),r=a.scrollElem;o=o>0?o:.1,i=i||10;var s=d(r),c=u(r),l=1+o;r===window?r.scrollTo(Math.floor(s/l),Math.floor(c/l)):(r.scrollLeft=Math.floor(s/l),r.scrollTop=Math.floor(c/l)),s>0||c>0?setTimeout(function(){n(e,t,o,i)},i):"function"==typeof t&&t()}}function t(e){if(w(e)){var n=v(e),t=n.options,o=n.elem;if(t.bg.show&&t.animate.show&&!t.animate.own){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=t.animate.cdn,document.getElementsByTagName("head")[0].appendChild(i)}t.bg.show&&(o.innerHTML="")}}function o(e){if(w(e)){var n=v(e),t=n.options,o=n.elem,i=t.pos.unit,a=t.pos.top,r=t.pos.right,s=t.pos.bottom,c=t.pos.left,l=document.createElement("style");l.type="text/css",l.id=e+"-rtt-css";var u=["#",t.id,"{","position: fixed;","top: ",0===a?"":a,i,";","right: ",0===r?"":r,i,";","bottom: ",0===s?"":s,i,";","left: ",0===c?"":c,i,";","-webkit-transition: all 0.2s ease-in-out;","}","#",t.id,":hover,#",t.id,".active{","cursor: pointer;","}","#",t.id,".active{","display: block;","}","@media screen and (max-width: 800px) {","#",t.id,"{","top: ",0===a?"":a/2,i,";","right: ",0===r?"":r/2,i,";","bottom: ",0===s?"":s/2,i,";","left: ",0===c?"":c/2,i,";","}","}"].join("");t.bg.show&&(u+=["#",t.id,"{","width: 26px;","height: 62px;","background: url(",t.bg.dir,"/rocket.png) no-repeat 0 0;","}","#",t.id,":hover,#",t.id,".active{","background: url(",t.bg.dir,"/rocket.png) no-repeat 0 -62px;","}"].join("")),l.innerHTML=u,document.getElementsByTagName("head")[0].appendChild(l),m(o,{display:"none"})}}function i(e){if(w(e)){var n=v(e),t=(n.options,n.scrollElem),o=n.timeout;t.addEventListener("scroll",function(){o&&clearTimeout(o),o=setTimeout(function(){var n=u(t);n>300?s(e):c(e)},1e3)})}}function a(e){if(w(e)){var t=v(e),o=t.options,i=t.elem,a=t.initClassName;i.addEventListener("click",function(s){s.stopPropagation(),o.bg.show?i.className=a+" active animated bounceOutUp":i.className=a+" active",setTimeout(function(){r(e),m(i,{display:"none"})},500),n(e,function(){t.elem.className=t.initClassName})})}}function r(e){var n=v(e);n.elem.className=n.initClassName}function s(e){if(w(e)){var n=v(e),t=n.options,o=n.elem,i=n.initClassName;l()&&(m(o,{display:"block"}),t.bg.show&&(o.className=i+" animated bounceInUp"),setTimeout(function(){r(e)},500))}}function c(e){if(!l(e)&&w(e)){var n=v(e),t=n.options,o=n.elem,i=n.initClassName;t.bg.show&&(o.className=i+" animated fadeOutDown"),setTimeout(function(){r(e),m(o,{display:"none"})},500)}}function l(e){if(w(e)){var n=v(e);if("none"!=n.elem.style.display)return!1}return!0}function m(e,n){var t=e.style;for(var o in n)t[o]=n[o]}function u(e){return g(e)?e.scrollTop:p()}function d(e){return g(e)?e.scrollLeft:f()}function p(){var e=document.body.scrollTop,n=document.documentElement.scrollTop,t=window.scrollY;return Math.max(t,Math.max(e,n))}function f(){var e=document.body.scrollLeft,n=document.documentElement.scrollLeft,t=window.scrollX;return Math.max(t,Math.max(e,n))}function w(e){return!!window.returnToTop.namespace[e]}function h(e,n){w(e)||(window.returnToTop.namespace[e]=n)}function v(e){return window.returnToTop.namespace[e]}function g(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function T(e,n){for(var t=e.length,o=t-1;o>=0;o--)if(e[o]==n)return!0;return!1}function b(){var e={},n=arguments,t=n.length;if(!t)return{};for(var o=t-1;o>=0;o--)y(n[o],e);return n[0]=e,e}function y(e,n){for(var t in e)if(e.hasOwnProperty(t)){if(e[t]instanceof Object&&n[t]instanceof Object&&y(e[t],n[t]),n.hasOwnProperty(t))continue;n[t]=e[t]}}var E={namespace:"returnToTop",bg:{show:!0,dir:"images"},animate:{show:!0,own:!1,cdn:"http://cdn.bootcss.com/animate.css/3.5.2/animate.min.css"},pos:{unit:"px",top:0,right:100,bottom:80,left:0},id:"return-to-top",scroll:"window"},N={init:function(n){var r=b({},E,n);e(r),t(r.namespace),o(r.namespace),i(r.namespace),a(r.namespace)}};window.returnToTop=N,window.returnToTop.namespace={}}();